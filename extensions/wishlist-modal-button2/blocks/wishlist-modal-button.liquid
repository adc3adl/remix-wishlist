<!-- Wishlist Toggle Button + –°—Ç–∏–ª–∏ –¥–ª—è cart-bubble -->
<script>
  window.customerId = {{ customer.id | json }};
</script>

<style>

  #wishlist-toggle {
    --wishlist-toggle-color: {{ block.settings.wishlist_toggle_color }};
    margin-left: 8px;
    background: none;
    border: none;
    padding: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #wishlist-toggle svg {
    stroke: var(--wishlist-toggle-color);
    fill: var(--wishlist-toggle-color);
    transition: all 0.2s ease;
  }

  #wishlist-toggle:hover svg {
    transform: scale(1.1);
    filter: brightness(1.15);
  }

  .cart-count-bubble {
    position: absolute;
    width: 18px;
    height: 18px;
    background-color: #e63946;
    color: #fff;
    font-size: 9px;
    font-weight: 600;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    z-index: 10;
    box-shadow: 0 0 0 2px white;
    line-height: 1;
    padding: 0;
    font-family: Arial, sans-serif;
    padding-left: 1px;
  }

  .header__icon--cart,
  .site-header__cart,
  a[href="/cart"] {
    position: relative;
  }
</style>

<!-- –ö–Ω–æ–ø–∫–∞ Wishlist —Å SVG -->
<button
  id="wishlist-toggle"
  aria-label="Open wishlist"
  type="button"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="wishlist-toggle-icon"
  >
    <path d="M20.8 4.6c-1.5-1.4-3.9-1.4-5.4 0L12 8l-3.4-3.4c-1.5-1.4-3.9-1.4-5.4 0-1.5 1.5-1.5 3.9 0 5.4l8.8 8.8 8.8-8.8c1.5-1.5 1.5-3.9 0-5.4z"/>
  </svg>
</button>

<!-- üß† –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ wishlist.js (–µ—Å–ª–∏ –±—ã–ª –ø–æ–¥–∫–ª—é—á—ë–Ω –∫–∞–∫ script) -->
<script>
  setTimeout(() => {
    const toggleBtn = document.getElementById('wishlist-toggle');
    if (toggleBtn && typeof main === 'function') {
      main(); // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ wishlist
    }
  }, 500);
</script>

{% schema %}
{
  "name": "Wishlist Modal Button",
  "target": "section",
  "settings": [
    {
      "type": "color",
      "id": "wishlist_toggle_color",
      "label": "Wishlist icon  color (header)",
      "default": "#e63946"
    }
  ]
}
{% endschema %}